<!doctype html>
<html>
<head>
<title>Test Case</title>
</head>
<body>
<script src="../../closure-library/closure/goog/base.js"></script>
<script src="../source/deps.js"></script>
<script>
	goog.require('goog.testing.ContinuationTestCase');	
	goog.require('goog.testing.jsunit');	
</script>
<script>
	goog.require('pike.core.Viewport');
	goog.require('goog.events');
	goog.require('goog.events.EventHandler');
	goog.require('pike.events.ChangePosition');
	goog.require('pike.events.ChangeSize');
</script>
<script>
function setUpPage(){}
function setUp(){}

var testElement = function() {
	var viewport = new pike.core.Viewport();
	var element = document.getElementById( pike.core.Viewport.ELEMENT_ID );
	assertNotNull( element );
	assertEquals( element, viewport.getDOMElement());
	assertTrue( element.getAttribute("id") === pike.core.Viewport.ELEMENT_ID );	
};

var testGetHandler = function(){
	var viewport = new pike.core.Viewport();	
	assertTrue( viewport.handler instanceof goog.events.EventHandler);
};

var testSetSize = function(){
	var viewport = new pike.core.Viewport();
	viewport.setSize(800, 20);
	
	assertEquals( 800, viewport.w  );
	assertEquals( 20, viewport.h  );
	
	assertEquals( "800px", viewport.getDOMElement().style.width  );
	assertEquals( "20px", viewport.getDOMElement().style.height  );	
};

var testSetPosition = function(){
	var viewport = new pike.core.Viewport();	
	viewport.setPosition(50, 5);
	assertTrue( viewport.getBounds().x == 50 
			 && viewport.getBounds().y == 5 
			 && viewport.getBounds().w == 0 
			 && viewport.getBounds().h == 0);
	
};

var testGetBounds = function(){
	var viewport = new pike.core.Viewport();	
	viewport.setSize(200,10);
	assertTrue( viewport.getBounds().x == 0 
			 && viewport.getBounds().y == 0 
			 && viewport.getBounds().w == 200 
			 && viewport.getBounds().h == 10);
};

function tearDown(){}
</script>
</body>
</html>
